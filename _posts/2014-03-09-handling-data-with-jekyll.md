---
layout: post
title:  "Jekyllでまとまったデータを扱う: _dataディレクトリの利用"
categories: jekyll
description: "Jekyllサイト内で任意のデータをYAMLで保存し活用する方法。"
og:
  type: article
---

個人サイトをやっていると，簡易なデータベースを作ってデータを置いておきたい場合がある。つまらない例だが，たとえば蔵書リストのような。こういう場合，少量ならともかく，エントリが増えてくるとHTMLのみで管理するのはつらくなってくる。それに，リストの見せ方を変えたい場合にいちいちリスト全体のHTMLの書き換えが必要になり煩雑である。

Jekyllには，データをYAMLで保持しておいて，テンプレートに流し込むことでHTMLを生成する機能がある。見せ方を変える場合もテンプレートだけ変えればすむ。ちゃんと公式ドキュメントもあるのだが，なぜか日本語で取り上げているサイトがほとんどないのは地味さのためか。非常に便利なので，[公式サイトの説明](http://jekyllrb.com/docs/datafiles "Data Files")の要点をメモしておく。

1. `_data`ディレクトリを作る。（`jekyll new`で作られるディレクトリ構造にはこのフォルダがないので自分で追加する必要がある）
1. `_data`ディレクトリにYAML形式でデータを置く。たとえば`books.yaml`。
1. テンプレート側では`site.data.books`でデータを参照可能。`books`のところはYAMLのファイル名に依存。


