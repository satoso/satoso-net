---
title:  "Jekyll でまとまったデータを扱う: _data ディレクトリの利用"
categories: jekyll
description: "Jekyll サイト内で任意のデータを YAML で保存し活用する方法。"
---

個人サイトをやっていると，簡易なデータベースを作ってデータを置いておきたい場合がある。つまらない例だが，たとえば蔵書リストのような。こういう場合，少量ならともかく，エントリが増えてくると HTML のみで管理するのはつらくなってくる。それに，リストの見せ方を変えたい場合にいちいちリスト全体の HTML の書き換えが必要になり煩雑である。

Jekyll には，データを YAML で保持しておいて，テンプレートに流し込むことで HTML を生成する機能がある。見せ方を変える場合もテンプレートだけ変えればすむ。ちゃんと公式ドキュメントもあるのだが，なぜか日本語で取り上げているサイトがほとんどないのは地味さのためか。非常に便利なので，[公式サイトの説明](http://jekyllrb.com/docs/datafiles "Data Files")の要点をメモしておく。

1. `_data` ディレクトリを作る。（ `jekyll new` で作られるディレクトリ構造にはこのフォルダがないので自分で追加する必要がある）
1. `_data` ディレクトリにYAML形式でデータを置く。たとえば `books.yaml` 。
1. テンプレート側では `site.data.books` でデータを参照可能。 `books` のところは YAML のファイル名に依存。


